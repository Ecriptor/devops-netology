#!/usr/bin/env python3

import socket
import os

hostnames = ["drive.google.com", "mail.google.com", "google.com"]

if os.path.exists("host_ip.txt"):
    # если файл уже есть, загрузим из него базу адресов
    ip_dict={}
    with  open("host_ip.txt", "r") as file:

    # последняя строка пустая, удалим её
#    del lines[-1]

        for line in file:
            host = line.split(" - ")[0]
            ip = line.split(" - ")[1]
            ip_dict[host] = ip.replace('\n', '')
        print(ip_dict)
#else:
    # если файла ещё не было, заполним базу адресов пустышками
#    ip_dict = {"drive.google.com":"0.0.0.0", "mail.google.com":"0.0.0.0", "google.com":"0.0.0.0"}

#output = ""
#f = open("ip_check.txt", "w")
#for host in hostnames:
#    ip = socket.gethostbyname(host)
#    output = output + host + ' - ' + ip+"\n"
#    if ip_dict[host] == ip:
#        print(host + ' - ' + ip)
#    else:
#        print("[ERROR] " + host + " IP mismatch: " + ip_dict[host] + " " + ip)
#f.write(output)
#f.close()
